<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <title>정훈.서버.한국</title>
  <style>
    body {
      background-color: black;
      color: #dcdcdc;
      font-family: Consolas, monospace;
      padding: 20px;
      font-size: 16px;
    }

    .line {
      margin: 4px 0;
      white-space: pre-wrap;
    }

    .input-line {
      display: flex;
      align-items: center;
    }

    .prompt {
      margin-right: 8px;
    }

    input {
      background: transparent;
      border: none;
      color: #dcdcdc;
      font: inherit;
      outline: none;
      width: 300px;
    }

    footer {
      position: fixed;
      bottom: 5px;
      width: 100%;
      text-align: center;
      font-size: 12px;
      color: #555;
    }
  </style>
</head>
<body>
  <div id="console">
    <div class="line">(c) 정훈.서버.한국. All rights reserved.</div>
  </div>
  <footer></footer>

  <script>
    const encryptedLinks = [
      "oDp2no/Nk3f+TwCnCGpjcFTFO+bD3N60hsSn9x3tw4pOmnLW3CNEgW2HgNyPxuhKR7yZNz5OWurLa+qRLkFY7JHTEmGzcrDoN6XcySWsjffnWBnmx0OjxGZtcTYl9v0VI0eLJL1d/aZzWvRGjR8aGQ==",
      "jfPS9U4oxkmrz1LQINgjVPLWoRMic1LtjoN9zdODLQ9ThI4iPARJOCttP5cIurgauLexYhmrHA4PEHRRjq9ZfRaRUW6pJbHT5LBnMOCNtz87STSTYgu6rbgMVZrxmKfj",
      "LJuq6RKTOa+oBsHT1srfyfRP2ufyAYS92CSF7WGhuQiPqb5N2FSunqrtDfEeDsw8Y9gMq4kRRtrkvtsbT4i0h5iBTIH7yw8ZV9HoToYQkUs=",
      "rtwDc4VeEMALectH1tLbBdoSL4ZhnqWWbFRtgoWiid46QcoOEGOu3iYRa7CuBGyvCfa72hJnxpm4uZzaEO65AimHUTuvksQdO6JEodj0FFtihX5gM3d9s1YG+H0ECZ/8ZkM0f2bQnrASVO0F6XAqvOboWj6hEUrzIaNhe2Hvzw4YrH1C",
      "wJRMoeImTrvZoHqfs3z+nCQ9BckdlNTd2p9MD8OwWPqDguQJso90udw74RDbPUpTV0CwH8S1l5QReM4F9khzL3F5y/gyJaOS4ChtG1KtpFsiqAgLdhO4n3kA76SUdCbLAheuVFqPIGQUmLB3t9lcowYkiSKEBLx8wUtWhBCxd1M6MHA1"

    ];

    const enc = new TextEncoder();
    const dec = new TextDecoder();
    const consoleDiv = document.getElementById("console");

    async function decryptLink(base64, password) {
      try {
        const data = Uint8Array.from(atob(base64), c => c.charCodeAt(0));
        const salt = data.slice(0, 16);
        const iv = data.slice(16, 28);
        const ciphertext = data.slice(28);

        const keyMaterial = await crypto.subtle.importKey(
          "raw", enc.encode(password), { name: "PBKDF2" }, false, ["deriveKey"]
        );
        const key = await crypto.subtle.deriveKey(
          {
            name: "PBKDF2",
            salt,
            iterations: 100000,
            hash: "SHA-256"
          },
          keyMaterial,
          { name: "AES-GCM", length: 256 },
          false,
          ["decrypt"]
        );

        const plaintext = await crypto.subtle.decrypt(
          { name: "AES-GCM", iv },
          key,
          ciphertext
        );

        return dec.decode(plaintext);
      } catch {
        return null;
      }
    }

    async function tryAccess(password, promptText) {
      for (const base64 of encryptedLinks) {
        const url = await decryptLink(base64, password);
        if (url) {
          const successLine = document.createElement("div");
          successLine.className = "line";
          successLine.textContent = `access granted. redirecting to ${url}`;
          consoleDiv.appendChild(successLine);
          setTimeout(() => window.location.href = url, 100);
          return true;
        }
      }

      const denyLine = document.createElement("div");
      denyLine.className = "line";
      denyLine.textContent = "access denied.";
      consoleDiv.appendChild(denyLine);

      createInputLine(promptText);
      return false;
    }

    function createInputLine(promptText = "C:\\Users\\guest>") {
      const inputLine = document.createElement("div");
      inputLine.className = "input-line";

      const prompt = document.createElement("div");
      prompt.className = "prompt";
      prompt.textContent = promptText;

      const input = document.createElement("input");
      input.type = "password";
      input.autocomplete = "off";

      input.addEventListener("keydown", async (e) => {
        if (e.key === "Enter") {
          const password = input.value.trim();
          inputLine.remove();  
          if (password !== "") {
            await tryAccess(password, promptText);
          }
        }
      });

      inputLine.appendChild(prompt);
      inputLine.appendChild(input);
      consoleDiv.appendChild(inputLine);
      input.focus();
    }

    createInputLine();
  </script>
</body>
</html>
