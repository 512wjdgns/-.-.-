<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>정훈.서버.한국</title>
  <style>
    body {
      margin: 0;
      background-color: #000;
      color: #dcdcdc;
      font-family: Consolas, monospace;
      font-size: 16px;
      display: flex;
      flex-direction: column;
      justify-content: 
      align-items: flex-start;
      height: 100vh;
      padding: 20px 40px;
    }

    .line {
      margin: 6px 0;
    }

    .prompt-line {
      display: flex;
      align-items: center;
    }

    .prompt-line span::after {
      content: "_";
      display: inline-block;
      margin-left: 2px;
      animation: blink 1s steps(1) infinite;
    }

    @keyframes blink {
      50% {
        opacity: 0;
      }
    }

    input[type="password"] {
      background: transparent;
      border: none;
      outline: none;
      color: #dcdcdc;
      font-family: inherit;
      font-size: inherit;
      width: 300px;
    }

    button {
      display: none;
    }

    footer {
      position: fixed;
      bottom: 6px;
      width: 100%;
      text-align: center;
      font-size: 15px;
      color: #dcdcdc;
    }
  </style>
</head>
<body>

  <div class="line" id="ipLine">Your IP: 확인 중...</div>
  <div class="line">(c) 정훈.서버.한국. All rights reserved.</div>
  <br>
  <div class="prompt-line">
    <span>Server:\Users\정훈&gt;</span>&nbsp;
    <form id="form">
      <input type="password" id="passwordInput" placeholder="암호 입력..." autocomplete="off" required>
      <button type="submit">Submit</button>
    </form>
  </div>

  <footer></footer>

  <script>
    const correctHash = "db7c17151d2bf246ae9b580f3fba5b5a0aff4db12dcadfbb534d6707d1cc66a8";
    const encodedUrl = "aHR0cHM6Ly9qeC1oMDBuLm5vdGlvbi5zaXRlL1BsYW5uZXItOWJkNzA0N2Y1NmIwNDdjZDk1MWVmYzY5M2Y1Yzk2NTQ/c291cmNlPWNvcHlfbGluaw==";

    async function sha256(str) {
      const encoder = new TextEncoder();
      const data = encoder.encode(str);
      const hashBuffer = await crypto.subtle.digest("SHA-256", data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    function decodeBase64(base64) {
      return decodeURIComponent(escape(atob(base64)));
    }

    document.getElementById("form").addEventListener("submit", async function(e) {
      e.preventDefault();
      const input = document.getElementById("passwordInput").value;
      const hashed = await sha256(input);
      if (hashed === correctHash) {
        window.location.href = decodeBase64(encodedUrl);
      } else {
        alert("암호가 틀렸습니다.");
      }
    });

    document.getElementById("passwordInput").addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        document.getElementById("form").requestSubmit();
      }
    });

   
    fetch("https://api.ipify.org?format=json")
      .then(response => response.json())
      .then(data => {
        document.getElementById("ipLine").textContent = `Your IP: ${data.ip}`;
      })
      .catch(() => {
        document.getElementById("ipLine").textContent = `Your IP: 알 수 없음`;
      });
  </script>
</body>
</html>
